@page
@model Iteracion_2.Pages.Analitica.DistribucionMiembrosModel
@{
    ViewData["Title"] = "DistribucionMiembros";
}

<h2>DistribucionMiembros</h2>
<html>
<head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart( ) {



          if (@Model.NumeroConsulta == 0) {

              // Create the data table.
              var data = new google.visualization.DataTable();
              data.addColumn('string', 'Topping');
              data.addColumn('number', 'Slices');
              data.addRows([
                  ['Mushrooms', 3],
                  ['Onions', 1],
                  ['Olives', 1],
                  ['Zucchini', 1],
                  ['Pepperoni', 2]

              ]);

              // Set chart options
              var options = {
                  'title': 'How Much Pizza I Ate Last Night',
                  'width': 400,
                  'height': 300
              };

              // Instantiate and draw our chart, passing in some options.

              var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
              chart.draw(data, options);

              console.log('hola arriba')

          } else if (@Model.NumeroConsulta == 1) {

              

              var data = new google.visualization.DataTable();
              data.addColumn('string', 'Topping');
              data.addColumn('number', 'Slices');
              if (@Model.MatrizDatos != null)
              {
                  console.log('hola abajo if ')
                  for (int i = 0; i < @Model.MatrizDatos.Length; i++) {
                      data.addRows( @Model.MatrizDatos[0]);
                  }
              }

              console.log('hola abajo')
              // Set chart options
              var options = {
                  'title': 'Distribucion',
                  'width': 400,
                  'height': 300
              };

              // Instantiate and draw our chart, passing in some options.

              var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
              chart.draw(data, options);

          }


      }
    </script>
</head>

<body>
    <!--Div that will hold the pie chart-->
    <div class="row">
        <div class="col-lg-1">
            <form method="post">
                <h3>Prueba:</h3>
                <input asp-for="@Model.Valores " />
                <button class="btn btn-default">Buscar</button>

            </form>
        </div>
        <div class="col-lg-5">
            <div id="chart_div"></div>
        </div>

        
    </div>




</body>
</html>

